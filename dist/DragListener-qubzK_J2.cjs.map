{"version":3,"file":"DragListener-qubzK_J2.cjs","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    #container: HTMLElement\n    element: HTMLElement | SVGElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    #onDragLeave?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement | SVGElement, container?: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.#container = container ? container : document as any\n        this.element.addEventListener('mousedown', this.#start as any)\n        this.#container.addEventListener('mousemove', this.#move)\n        this.#container.addEventListener('mouseup', this.#end)\n        this.#container.addEventListener('mouseleave', this.#leave)\n    }\n\n    public set onDragStart(onDragStart: (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n\n    public set onDragLeave(onDragLeave: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragLeave = onDragLeave\n    }\n\n    #start = (e: MouseEvent) => {\n        if (!this.active) {\n            this.active = true\n            if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n        }\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    #leave = (e: MouseEvent) => {\n        if (this.active) {\n            // this.active = false\n            if (this.#onDragLeave) this.#onDragLeave(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start as any)\n        this.#container.removeEventListener('mousemove', this.#move)\n        this.#container.removeEventListener('mouseup', this.#end)\n        this.#container.removeEventListener('mouseleave', this.#leave)\n    }\n}\n"],"names":["DragListener","element","container","__privateAdd","_container","__publicField","_onDragStart","_onDragMove","_onDragEnd","_onDragLeave","_start","e","__privateGet","init","_move","_end","_leave","__privateSet","onDragStart","onDragMove","onDragEnd","onDragLeave"],"mappings":"0hBAAO,MAAMA,CAA8B,CASvC,YAAYC,EAAmCC,EAAyB,CARxEC,EAAA,KAAAC,EAAA,QACAC,EAAA,gBACAA,EAAA,eACAA,EAAA,aACAF,EAAA,KAAAG,EAAA,QACAH,EAAA,KAAAI,EAAA,QACAJ,EAAA,KAAAK,EAAA,QACAL,EAAA,KAAAM,EAAA,QA2BAN,EAAA,KAAAO,EAAUC,GAAkB,CACnB,KAAK,SACN,KAAK,OAAS,GACVC,EAAA,KAAKN,IAAcM,EAAA,KAAKN,GAAL,UAAkBK,EAAIE,GAAS,KAAK,KAAOA,GACtE,GAEJV,EAAA,KAAAW,EAASH,GAAkB,CACnB,KAAK,QACDC,EAAA,KAAKL,IAAkBK,EAAA,KAAAL,GAAA,UAAYI,EAAG,KAAK,KACnD,GAEJR,EAAA,KAAAY,EAAQJ,GAAkB,CAClB,KAAK,SACL,KAAK,OAAS,GACVC,EAAA,KAAKJ,IAAiBI,EAAA,KAAAJ,GAAA,UAAWG,EAAG,KAAK,MACjD,GAEJR,EAAA,KAAAa,EAAUL,GAAkB,CACpB,KAAK,QAEDC,EAAA,KAAKH,IAAmBG,EAAA,KAAAH,GAAA,UAAaE,EAAG,KAAK,KACrD,GAEJN,EAAA,mBAAc,IAAM,CAChB,KAAK,QAAQ,oBAAoB,YAAaO,EAAA,KAAKF,EAAa,EAChEE,EAAA,KAAKR,GAAW,oBAAoB,YAAaQ,EAAA,KAAKE,EAAK,EAC3DF,EAAA,KAAKR,GAAW,oBAAoB,UAAWQ,EAAA,KAAKG,EAAI,EACxDH,EAAA,KAAKR,GAAW,oBAAoB,aAAcQ,EAAA,KAAKI,EAAM,CAAA,GApD7D,KAAK,OAAS,GACd,KAAK,QAAUf,EACVgB,EAAA,KAAAb,EAAaF,GAAwB,UAC1C,KAAK,QAAQ,iBAAiB,YAAaU,EAAA,KAAKF,EAAa,EAC7DE,EAAA,KAAKR,GAAW,iBAAiB,YAAaQ,EAAA,KAAKE,EAAK,EACxDF,EAAA,KAAKR,GAAW,iBAAiB,UAAWQ,EAAA,KAAKG,EAAI,EACrDH,EAAA,KAAKR,GAAW,iBAAiB,aAAcQ,EAAA,KAAKI,EAAM,CAC9D,CAEA,IAAW,YAAYE,EAAoE,CACvFD,EAAA,KAAKX,EAAeY,EACxB,CAEA,IAAW,WAAWC,EAAkD,CACpEF,EAAA,KAAKV,EAAcY,EACvB,CAEA,IAAW,UAAUC,EAAiD,CAClEH,EAAA,KAAKT,EAAaY,EACtB,CAEA,IAAW,YAAYC,EAAmD,CACtEJ,EAAA,KAAKR,EAAeY,EACxB,CA+BJ,CA/DIjB,EAAA,YAIAE,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YA2BAC,EAAA,YAMAI,EAAA,YAKAC,EAAA,YAMAC,EAAA"}