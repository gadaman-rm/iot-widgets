{"version":3,"file":"DragListener-6lm9Q8CB.cjs","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    element: HTMLElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    #onDragLeave?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.element.addEventListener('mousedown', this.#start)\n        document.addEventListener('mousemove', this.#move)\n        document.addEventListener('mouseup', this.#end)\n        document.addEventListener('mouseleave', this.#leave)\n    }\n\n    public set onDragStart(onDragStart: (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n\n    public set onDragLeave(onDragLeave: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragLeave = onDragLeave\n    }\n\n    #start = (e: MouseEvent, init?: Init) => {\n        if (!this.active) {\n            this.active = true\n            this.init = init\n            if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n        }\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    #leave = (e: MouseEvent) => {\n        if (this.active) {\n            // this.active = false\n            if (this.#onDragLeave) this.#onDragLeave(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start)\n        document.removeEventListener('mousemove', this.#move)\n        document.removeEventListener('mouseup', this.#end)\n        document.removeEventListener('mouseleave', this.#leave)\n    }\n}\n"],"names":["DragListener","element","__publicField","__privateAdd","_onDragStart","_onDragMove","_onDragEnd","_onDragLeave","_start","init","__privateGet","_move","_end","_leave","onDragStart","__privateSet","onDragMove","onDragEnd","onDragLeave"],"mappings":"whBAAO,MAAMA,CAA8B,CAQvC,YAAYC,EAAsB,CAPlCC,EAAA,gBACAA,EAAA,eACAA,EAAA,aACAC,EAAA,KAAAC,EAAA,QACAD,EAAA,KAAAE,EAAA,QACAF,EAAA,KAAAG,EAAA,QACAH,EAAA,KAAAI,EAAA,QA0BAJ,EAAA,KAAAK,EAAS,CAAC,EAAeC,IAAgB,CAChC,KAAK,SACN,KAAK,OAAS,GACd,KAAK,KAAOA,EACRC,EAAA,KAAKN,IAAcM,EAAA,KAAKN,GAAL,UAAkB,EAAIK,GAAS,KAAK,KAAOA,GACtE,GAEJN,EAAA,KAAAQ,EAAS,GAAkB,CACnB,KAAK,QACDD,EAAA,KAAKL,IAAkBK,EAAA,KAAAL,GAAA,UAAY,EAAG,KAAK,KACnD,GAEJF,EAAA,KAAAS,EAAQ,GAAkB,CAClB,KAAK,SACL,KAAK,OAAS,GACVF,EAAA,KAAKJ,IAAiBI,EAAA,KAAAJ,GAAA,UAAW,EAAG,KAAK,MACjD,GAEJH,EAAA,KAAAU,EAAU,GAAkB,CACpB,KAAK,QAEDH,EAAA,KAAKH,IAAmBG,EAAA,KAAAH,GAAA,UAAa,EAAG,KAAK,KACrD,GAEJL,EAAA,mBAAc,IAAM,CAChB,KAAK,QAAQ,oBAAoB,YAAaQ,EAAA,KAAKF,EAAM,EAChD,SAAA,oBAAoB,YAAaE,EAAA,KAAKC,EAAK,EAC3C,SAAA,oBAAoB,UAAWD,EAAA,KAAKE,EAAI,EACxC,SAAA,oBAAoB,aAAcF,EAAA,KAAKG,EAAM,CAAA,GApDtD,KAAK,OAAS,GACd,KAAK,QAAUZ,EACf,KAAK,QAAQ,iBAAiB,YAAaS,EAAA,KAAKF,EAAM,EAC7C,SAAA,iBAAiB,YAAaE,EAAA,KAAKC,EAAK,EACxC,SAAA,iBAAiB,UAAWD,EAAA,KAAKE,EAAI,EACrC,SAAA,iBAAiB,aAAcF,EAAA,KAAKG,EAAM,CACvD,CAEA,IAAW,YAAYC,EAAoE,CACvFC,EAAA,KAAKX,EAAeU,EACxB,CAEA,IAAW,WAAWE,EAAkD,CACpED,EAAA,KAAKV,EAAcW,EACvB,CAEA,IAAW,UAAUC,EAAiD,CAClEF,EAAA,KAAKT,EAAaW,EACtB,CAEA,IAAW,YAAYC,EAAmD,CACtEH,EAAA,KAAKR,EAAeW,EACxB,CAgCJ,CA3DId,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YA0BAC,EAAA,YAOAG,EAAA,YAKAC,EAAA,YAMAC,EAAA"}