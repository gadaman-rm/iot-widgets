{"version":3,"file":"DragListener-hf1vU2gb.cjs","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    element: HTMLElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    #onDragLeave?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.element.addEventListener('mousedown', this.#start)\n        document.addEventListener('mousemove', this.#move)\n        document.addEventListener('mouseup', this.#end)\n        document.addEventListener('mouseleave', this.#leave)\n    }\n\n    public set onDragStart(onDragStart: (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n\n    public set onDragLeave(onDragLeave: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragLeave = onDragLeave\n    }\n\n    #start = (e: MouseEvent, init?: Init) => {\n        if (!this.active) {\n            this.active = true\n            this.init = init\n            if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n        }\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    #leave = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragLeave) this.#onDragLeave(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start)\n        document.removeEventListener('mousemove', this.#move)\n        document.removeEventListener('mouseup', this.#end)\n        document.removeEventListener('mouseleave', this.#leave)\n    }\n}\n"],"names":["DragListener","constructor","element","active","init","__privateAdd","_onDragStart","_onDragMove","_onDragEnd","_onDragLeave","_start","#start","e","__privateGet","_move","_end","_leave","removeEvent","removeEventListener","addEventListener","onDragStart","__privateSet","onDragMove","onDragEnd","onDragLeave"],"mappings":"whBAAO,MAAMA,CAA8B,CAQvCC,YAAYC,EAAsB,CAPlCA,EAAAA,gBACAC,EAAAA,eACAC,EAAAA,aACAC,EAAA,KAAAC,EAAA,QACAD,EAAA,KAAAE,EAAA,QACAF,EAAA,KAAAG,EAAA,QACAH,EAAA,KAAAI,EAAA,QA0BAJ,EAAA,KAAAK,EAASC,CAACC,EAAeR,IAAgB,CAChC,KAAKD,SACN,KAAKA,OAAS,GACd,KAAKC,KAAOA,EACRS,EAAA,KAAKP,IAAcO,EAAA,KAAKP,GAAL,UAAkBM,EAAIR,GAAS,KAAKA,KAAOA,GACtE,GAEJC,EAAA,KAAAS,EAASF,GAAkB,CACnB,KAAKT,QACDU,EAAA,KAAKN,IAAkBM,EAAA,KAAAN,GAAA,UAAYK,EAAG,KAAKR,KACnD,GAEJC,EAAA,KAAAU,EAAQH,GAAkB,CAClB,KAAKT,SACL,KAAKA,OAAS,GACVU,EAAA,KAAKL,IAAiBK,EAAA,KAAAL,GAAA,UAAWI,EAAG,KAAKR,MACjD,GAEJC,EAAA,KAAAW,EAAUJ,GAAkB,CACpB,KAAKT,SACL,KAAKA,OAAS,GACVU,EAAA,KAAKJ,IAAmBI,EAAA,KAAAJ,GAAA,UAAaG,EAAG,KAAKR,MACrD,GAEJa,EAAAA,mBAAcA,IAAM,CAChB,KAAKf,QAAQgB,oBAAoB,YAAaL,EAAA,KAAKH,EAAM,EAChDQ,SAAAA,oBAAoB,YAAaL,EAAA,KAAKC,EAAK,EAC3CI,SAAAA,oBAAoB,UAAWL,EAAA,KAAKE,EAAI,EACxCG,SAAAA,oBAAoB,aAAcL,EAAA,KAAKG,EAAM,CAAA,GApDtD,KAAKb,OAAS,GACd,KAAKD,QAAUA,EACf,KAAKA,QAAQiB,iBAAiB,YAAaN,EAAA,KAAKH,EAAM,EAC7CS,SAAAA,iBAAiB,YAAaN,EAAA,KAAKC,EAAK,EACxCK,SAAAA,iBAAiB,UAAWN,EAAA,KAAKE,EAAI,EACrCI,SAAAA,iBAAiB,aAAcN,EAAA,KAAKG,EAAM,CACvD,CAEA,IAAWI,YAAYA,EAAoE,CACvFC,EAAA,KAAKf,EAAec,EACxB,CAEA,IAAWE,WAAWA,EAAkD,CACpED,EAAA,KAAKd,EAAce,EACvB,CAEA,IAAWC,UAAUA,EAAiD,CAClEF,EAAA,KAAKb,EAAae,EACtB,CAEA,IAAWC,YAAYA,EAAmD,CACtEH,EAAA,KAAKZ,EAAee,EACxB,CAgCJ,CA3DIlB,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YA0BAC,EAAA,YAOAI,EAAA,YAKAC,EAAA,YAMAC,EAAA"}