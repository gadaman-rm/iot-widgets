{"version":3,"file":"DragListener-vcHOWT3z.js","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    #container: HTMLElement\n    element: HTMLElement | SVGElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    #onDragLeave?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement | SVGElement, container?: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.#container = container ? container : document as any\n        this.element.addEventListener('mousedown', this.#start as any)\n        this.#container.addEventListener('mousemove', this.#move)\n        this.#container.addEventListener('mouseup', this.#end)\n        this.#container.addEventListener('mouseleave', this.#leave)\n    }\n\n    public set onDragStart(onDragStart: (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n\n    public set onDragLeave(onDragLeave: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragLeave = onDragLeave\n    }\n\n    #start = (e: MouseEvent) => {\n        if (!this.active) {\n            this.active = true\n            if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n        }\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    #leave = (e: MouseEvent) => {\n        if (this.active) {\n            // this.active = false\n            if (this.#onDragLeave) this.#onDragLeave(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start as any)\n        this.#container.removeEventListener('mousemove', this.#move)\n        this.#container.removeEventListener('mouseup', this.#end)\n        this.#container.removeEventListener('mouseleave', this.#leave)\n    }\n}\n"],"names":["_container","_onDragStart","_onDragMove","_onDragEnd","_onDragLeave","_start","_move","_end","_leave","DragListener","element","container","__privateAdd","__publicField","e","__privateGet","init","__privateSet","onDragStart","onDragMove","onDragEnd","onDragLeave"],"mappings":";;;;;;;;;;;AAAO,IAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAAA,MAAMC,EAA8B;AAAA,EASvC,YAAYC,GAAmCC,GAAyB;AARxE,IAAAC,EAAA,MAAAZ,GAAA;AACA,IAAAa,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAD,EAAA,MAAAX,GAAA;AACA,IAAAW,EAAA,MAAAV,GAAA;AACA,IAAAU,EAAA,MAAAT,GAAA;AACA,IAAAS,EAAA,MAAAR,GAAA;AA2BA,IAAAQ,EAAA,MAAAP,GAAS,CAACS,MAAkB;AACpB,MAAC,KAAK,WACN,KAAK,SAAS,IACVC,EAAA,MAAKd,MAAcc,EAAA,MAAKd,GAAL,WAAkBa,GAAG,CAACE,MAAS,KAAK,OAAOA;AAAA,IACtE;AAEJ,IAAAJ,EAAA,MAAAN,GAAQ,CAACQ,MAAkB;AACvB,MAAI,KAAK,UACDC,EAAA,MAAKb,MAAkBa,EAAA,MAAAb,GAAA,WAAYY,GAAG,KAAK;AAAA,IACnD;AAEJ,IAAAF,EAAA,MAAAL,GAAO,CAACO,MAAkB;AACtB,MAAI,KAAK,WACL,KAAK,SAAS,IACVC,EAAA,MAAKZ,MAAiBY,EAAA,MAAAZ,GAAA,WAAWW,GAAG,KAAK;AAAA,IACjD;AAEJ,IAAAF,EAAA,MAAAJ,GAAS,CAACM,MAAkB;AACxB,MAAI,KAAK,UAEDC,EAAA,MAAKX,MAAmBW,EAAA,MAAAX,GAAA,WAAaU,GAAG,KAAK;AAAA,IACrD;AAEJ,IAAAD,EAAA,qBAAc,MAAM;AAChB,WAAK,QAAQ,oBAAoB,aAAaE,EAAA,MAAKV,EAAa,GAChEU,EAAA,MAAKf,GAAW,oBAAoB,aAAae,EAAA,MAAKT,EAAK,GAC3DS,EAAA,MAAKf,GAAW,oBAAoB,WAAWe,EAAA,MAAKR,EAAI,GACxDQ,EAAA,MAAKf,GAAW,oBAAoB,cAAce,EAAA,MAAKP,EAAM;AAAA,IAAA;AApD7D,SAAK,SAAS,IACd,KAAK,UAAUE,GACVO,EAAA,MAAAjB,GAAaW,KAAwB,WAC1C,KAAK,QAAQ,iBAAiB,aAAaI,EAAA,MAAKV,EAAa,GAC7DU,EAAA,MAAKf,GAAW,iBAAiB,aAAae,EAAA,MAAKT,EAAK,GACxDS,EAAA,MAAKf,GAAW,iBAAiB,WAAWe,EAAA,MAAKR,EAAI,GACrDQ,EAAA,MAAKf,GAAW,iBAAiB,cAAce,EAAA,MAAKP,EAAM;AAAA,EAC9D;AAAA,EAEA,IAAW,YAAYU,GAAoE;AACvF,IAAAD,EAAA,MAAKhB,GAAeiB;AAAA,EACxB;AAAA,EAEA,IAAW,WAAWC,GAAkD;AACpE,IAAAF,EAAA,MAAKf,GAAciB;AAAA,EACvB;AAAA,EAEA,IAAW,UAAUC,GAAiD;AAClE,IAAAH,EAAA,MAAKd,GAAaiB;AAAA,EACtB;AAAA,EAEA,IAAW,YAAYC,GAAmD;AACtE,IAAAJ,EAAA,MAAKb,GAAeiB;AAAA,EACxB;AA+BJ;AA/DIrB,IAAA,eAIAC,IAAA,eACAC,IAAA,eACAC,IAAA,eACAC,IAAA,eA2BAC,IAAA,eAMAC,IAAA,eAKAC,IAAA,eAMAC,IAAA;"}