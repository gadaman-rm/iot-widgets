{"version":3,"file":"DragListener-Tmy3VwBm.js","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    element: HTMLElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    #onDragLeave?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.element.addEventListener('mousedown', this.#start)\n        document.addEventListener('mousemove', this.#move)\n        document.addEventListener('mouseup', this.#end)\n        document.addEventListener('mouseleave', this.#leave)\n    }\n\n    public set onDragStart(onDragStart: (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n\n    public set onDragLeave(onDragLeave: (e: MouseEvent, init?: Init) => void) {\n        this.#onDragLeave = onDragLeave\n    }\n\n    #start = (e: MouseEvent, init?: Init) => {\n        if (!this.active) {\n            this.active = true\n            this.init = init\n            if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n        }\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    #leave = (e: MouseEvent) => {\n        if (this.active) {\n            // this.active = false\n            if (this.#onDragLeave) this.#onDragLeave(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start)\n        document.removeEventListener('mousemove', this.#move)\n        document.removeEventListener('mouseup', this.#end)\n        document.removeEventListener('mouseleave', this.#leave)\n    }\n}\n"],"names":["_onDragStart","_onDragMove","_onDragEnd","_onDragLeave","_start","_move","_end","_leave","DragListener","constructor","element","active","init","__privateAdd","#start","e","__privateGet","#move","#end","#leave","removeEvent","removeEventListener","addEventListener","onDragStart","__privateSet","onDragMove","onDragEnd","onDragLeave"],"mappings":";;;;;;;;;;;AAAO,IAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAAA,MAAMC,EAA8B;AAAA,EAQvCC,YAAYC,GAAsB;AAPlCA,IAAAA,EAAAA;AACAC,IAAAA,EAAAA;AACAC,IAAAA,EAAAA;AACA,IAAAC,EAAA,MAAAb,GAAA;AACA,IAAAa,EAAA,MAAAZ,GAAA;AACA,IAAAY,EAAA,MAAAX,GAAA;AACA,IAAAW,EAAA,MAAAV,GAAA;AA0BA,IAAAU,EAAA,MAAAT,GAASU,CAACC,GAAeH,MAAgB;AACjC,MAAC,KAAKD,WACN,KAAKA,SAAS,IACd,KAAKC,OAAOA,GACRI,EAAA,MAAKhB,MAAcgB,EAAA,MAAKhB,GAAL,WAAkBe,GAAIH,CAAAA,MAAS,KAAKA,OAAOA;AAAAA,IACtE;AAEJ,IAAAC,EAAA,MAAAR,GAAQY,CAACF,MAAkB;AACvB,MAAI,KAAKJ,UACDK,EAAA,MAAKf,MAAkBe,EAAA,MAAAf,GAAA,WAAYc,GAAG,KAAKH;AAAAA,IACnD;AAEJ,IAAAC,EAAA,MAAAP,GAAOY,CAACH,MAAkB;AACtB,MAAI,KAAKJ,WACL,KAAKA,SAAS,IACVK,EAAA,MAAKd,MAAiBc,EAAA,MAAAd,GAAA,WAAWa,GAAG,KAAKH;AAAAA,IACjD;AAEJ,IAAAC,EAAA,MAAAN,GAASY,CAACJ,MAAkB;AACxB,MAAI,KAAKJ,UAEDK,EAAA,MAAKb,MAAmBa,EAAA,MAAAb,GAAA,WAAaY,GAAG,KAAKH;AAAAA,IACrD;AAEJQ,IAAAA,EAAAA,qBAAcA,MAAM;AAChB,WAAKV,QAAQW,oBAAoB,aAAaL,EAAA,MAAKZ,EAAM,GAChDiB,SAAAA,oBAAoB,aAAaL,EAAA,MAAKX,EAAK,GAC3CgB,SAAAA,oBAAoB,WAAWL,EAAA,MAAKV,EAAI,GACxCe,SAAAA,oBAAoB,cAAcL,EAAA,MAAKT,EAAM;AAAA,IAAA;AApDtD,SAAKI,SAAS,IACd,KAAKD,UAAUA,GACf,KAAKA,QAAQY,iBAAiB,aAAaN,EAAA,MAAKZ,EAAM,GAC7CkB,SAAAA,iBAAiB,aAAaN,EAAA,MAAKX,EAAK,GACxCiB,SAAAA,iBAAiB,WAAWN,EAAA,MAAKV,EAAI,GACrCgB,SAAAA,iBAAiB,cAAcN,EAAA,MAAKT,EAAM;AAAA,EACvD;AAAA,EAEA,IAAWgB,YAAYA,GAAoE;AACvF,IAAAC,EAAA,MAAKxB,GAAeuB;AAAAA,EACxB;AAAA,EAEA,IAAWE,WAAWA,GAAkD;AACpE,IAAAD,EAAA,MAAKvB,GAAcwB;AAAAA,EACvB;AAAA,EAEA,IAAWC,UAAUA,GAAiD;AAClE,IAAAF,EAAA,MAAKtB,GAAawB;AAAAA,EACtB;AAAA,EAEA,IAAWC,YAAYA,GAAmD;AACtE,IAAAH,EAAA,MAAKrB,GAAewB;AAAAA,EACxB;AAgCJ;AA3DI3B,IAAA,eACAC,IAAA,eACAC,IAAA,eACAC,IAAA,eA0BAC,IAAA,eAOAC,IAAA,eAKAC,IAAA,eAMAC,IAAA;"}