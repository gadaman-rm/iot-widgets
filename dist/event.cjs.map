{"version":3,"file":"event.cjs","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    element: HTMLElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.element.addEventListener('mousedown', this.#start)\n        document.addEventListener('mousemove', this.#move)\n        document.addEventListener('mouseup', this.#end)\n    }\n\n    public set onDragStart(onDragStart : (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove : (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd : (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n    \n    #start = (e: MouseEvent, init?: Init) => {\n        this.active = true\n        this.init = init\n        if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start)\n        document.removeEventListener('mousemove', this.#move)\n        document.removeEventListener('mouseup', this.#end)\n    }\n}\n"],"names":["DragListener","constructor","element","active","init","__privateAdd","_onDragStart","_onDragMove","_onDragEnd","_start","#start","e","__privateGet","_move","_end","removeEvent","removeEventListener","addEventListener","onDragStart","__privateSet","onDragMove","onDragEnd"],"mappings":"ulBAAO,MAAMA,CAA8B,CAOvCC,YAAYC,EAAsB,CANlCA,EAAAA,gBACAC,EAAAA,eACAC,EAAAA,aACAC,EAAA,KAAAC,EAAA,QACAD,EAAA,KAAAE,EAAA,QACAF,EAAA,KAAAG,EAAA,QAqBAH,EAAA,KAAAI,EAASC,CAACC,EAAeP,IAAgB,CACrC,KAAKD,OAAS,GACd,KAAKC,KAAOA,EACRQ,EAAA,KAAKN,IAAcM,EAAA,KAAKN,GAAL,UAAkBK,EAAIP,GAAS,KAAKA,KAAOA,EAAI,GAE1EC,EAAA,KAAAQ,EAASF,GAAkB,CACnB,KAAKR,QACDS,EAAA,KAAKL,IAAkBK,EAAA,KAAAL,GAAA,UAAYI,EAAG,KAAKP,KACnD,GAEJC,EAAA,KAAAS,EAAQH,GAAkB,CAClB,KAAKR,SACL,KAAKA,OAAS,GACVS,EAAA,KAAKJ,IAAiBI,EAAA,KAAAJ,GAAA,UAAWG,EAAG,KAAKP,MACjD,GAEJW,EAAAA,mBAAcA,IAAM,CAChB,KAAKb,QAAQc,oBAAoB,YAAaJ,EAAA,KAAKH,EAAM,EAChDO,SAAAA,oBAAoB,YAAaJ,EAAA,KAAKC,EAAK,EAC3CG,SAAAA,oBAAoB,UAAWJ,EAAA,KAAKE,EAAI,CAAA,GAtCjD,KAAKX,OAAS,GACd,KAAKD,QAAUA,EACf,KAAKA,QAAQe,iBAAiB,YAAaL,EAAA,KAAKH,EAAM,EAC7CQ,SAAAA,iBAAiB,YAAaL,EAAA,KAAKC,EAAK,EACxCI,SAAAA,iBAAiB,UAAWL,EAAA,KAAKE,EAAI,CAClD,CAEA,IAAWI,YAAYA,EAAqE,CACxFC,EAAA,KAAKb,EAAeY,EACxB,CAEA,IAAWE,WAAWA,EAAmD,CACrED,EAAA,KAAKZ,EAAca,EACvB,CAEA,IAAWC,UAAUA,EAAkD,CACnEF,EAAA,KAAKX,EAAaa,EACtB,CAuBJ,CA5CIf,EAAA,YACAC,EAAA,YACAC,EAAA,YAqBAC,EAAA,YAKAI,EAAA,YAKAC,EAAA"}