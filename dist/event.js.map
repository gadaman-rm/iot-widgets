{"version":3,"file":"event.js","sources":["../src/event/DragListener.ts"],"sourcesContent":["export class DragListener<Init = undefined>{\n    element: HTMLElement\n    active: boolean\n    init?: Init\n    #onDragStart?: (e: MouseEvent, initFn: (init: Init) => Init) => void\n    #onDragMove?: (e: MouseEvent, init?: Init) => void\n    #onDragEnd?: (e: MouseEvent, init?: Init) => void\n    constructor(element: HTMLElement) {\n        this.active = false\n        this.element = element\n        this.element.addEventListener('mousedown', this.#start)\n        document.addEventListener('mousemove', this.#move)\n        document.addEventListener('mouseup', this.#end)\n    }\n\n    public set onDragStart(onDragStart : (e: MouseEvent, initFn: (init: Init) => Init) => void) {\n        this.#onDragStart = onDragStart\n    }\n\n    public set onDragMove(onDragMove : (e: MouseEvent, init?: Init) => void) {\n        this.#onDragMove = onDragMove\n    }\n\n    public set onDragEnd(onDragEnd : (e: MouseEvent, init?: Init) => void) {\n        this.#onDragEnd = onDragEnd\n    }\n    \n    #start = (e: MouseEvent, init?: Init) => {\n        this.active = true\n        this.init = init\n        if (this.#onDragStart) this.#onDragStart(e, (init) => this.init = init)\n    }\n    #move = (e: MouseEvent) => {\n        if (this.active) {\n            if (this.#onDragMove) this.#onDragMove(e, this.init)\n        }\n    }\n    #end = (e: MouseEvent) => {\n        if (this.active) {\n            this.active = false\n            if (this.#onDragEnd) this.#onDragEnd(e, this.init)\n        }\n    }\n    removeEvent = () => {\n        this.element.removeEventListener('mousedown', this.#start)\n        document.removeEventListener('mousemove', this.#move)\n        document.removeEventListener('mouseup', this.#end)\n    }\n}\n"],"names":["_onDragStart","_onDragMove","_onDragEnd","_start","_move","_end","DragListener","constructor","element","active","init","__privateAdd","#start","e","__privateGet","#move","#end","removeEvent","removeEventListener","addEventListener","onDragStart","__privateSet","onDragMove","onDragEnd"],"mappings":";;;;;;;;;;;AAAO,IAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAAA,MAAMC,EAA8B;AAAA,EAOvCC,YAAYC,GAAsB;AANlCA,IAAAA,EAAAA;AACAC,IAAAA,EAAAA;AACAC,IAAAA,EAAAA;AACA,IAAAC,EAAA,MAAAX,GAAA;AACA,IAAAW,EAAA,MAAAV,GAAA;AACA,IAAAU,EAAA,MAAAT,GAAA;AAqBA,IAAAS,EAAA,MAAAR,GAASS,CAACC,GAAeH,MAAgB;AACrC,WAAKD,SAAS,IACd,KAAKC,OAAOA,GACRI,EAAA,MAAKd,MAAcc,EAAA,MAAKd,GAAL,WAAkBa,GAAIH,CAAAA,MAAS,KAAKA,OAAOA;AAAAA,IAAI;AAE1E,IAAAC,EAAA,MAAAP,GAAQW,CAACF,MAAkB;AACvB,MAAI,KAAKJ,UACDK,EAAA,MAAKb,MAAkBa,EAAA,MAAAb,GAAA,WAAYY,GAAG,KAAKH;AAAAA,IACnD;AAEJ,IAAAC,EAAA,MAAAN,GAAOW,CAACH,MAAkB;AACtB,MAAI,KAAKJ,WACL,KAAKA,SAAS,IACVK,EAAA,MAAKZ,MAAiBY,EAAA,MAAAZ,GAAA,WAAWW,GAAG,KAAKH;AAAAA,IACjD;AAEJO,IAAAA,EAAAA,qBAAcA,MAAM;AAChB,WAAKT,QAAQU,oBAAoB,aAAaJ,EAAA,MAAKX,EAAM,GAChDe,SAAAA,oBAAoB,aAAaJ,EAAA,MAAKV,EAAK,GAC3Cc,SAAAA,oBAAoB,WAAWJ,EAAA,MAAKT,EAAI;AAAA,IAAA;AAtCjD,SAAKI,SAAS,IACd,KAAKD,UAAUA,GACf,KAAKA,QAAQW,iBAAiB,aAAaL,EAAA,MAAKX,EAAM,GAC7CgB,SAAAA,iBAAiB,aAAaL,EAAA,MAAKV,EAAK,GACxCe,SAAAA,iBAAiB,WAAWL,EAAA,MAAKT,EAAI;AAAA,EAClD;AAAA,EAEA,IAAWe,YAAYA,GAAqE;AACxF,IAAAC,EAAA,MAAKrB,GAAeoB;AAAAA,EACxB;AAAA,EAEA,IAAWE,WAAWA,GAAmD;AACrE,IAAAD,EAAA,MAAKpB,GAAcqB;AAAAA,EACvB;AAAA,EAEA,IAAWC,UAAUA,GAAkD;AACnE,IAAAF,EAAA,MAAKnB,GAAaqB;AAAAA,EACtB;AAuBJ;AA5CIvB,IAAA,eACAC,IAAA,eACAC,IAAA,eAqBAC,IAAA,eAKAC,IAAA,eAKAC,IAAA;"}